(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{2088:function(a,e,t){},2174:function(a,e,t){var n=t(4),r=t(2175);n({global:!0,forced:parseFloat!=r},{parseFloat:r})},2175:function(a,e,t){var n=t(2),r=t(6),i=t(5),o=t(15),s=t(179).trim,p=t(180),l=i("".charAt),d=n.parseFloat,c=n.Symbol,u=c&&c.iterator,f=1/d(p+"-0")!=-1/0||u&&!r((function(){d(Object(u))}));a.exports=f?function(a){var e=s(o(a)),t=d(e);return 0===t&&"-"==l(e,0)?-0:t}:d},2176:function(a,e,t){"use strict";var n=t(19),r=t(138),i=t(13),o=t(28),s=t(2177),p=t(15),l=t(64),d=t(139);r("search",(function(a,e,t){return[function(e){var t=o(this),r=null==e?void 0:l(e,a);return r?n(r,e,t):new RegExp(e)[a](p(t))},function(a){var n=i(this),r=p(a),o=t(e,n,r);if(o.done)return o.value;var l=n.lastIndex;s(l,0)||(n.lastIndex=0);var c=d(n,r);return s(n.lastIndex,l)||(n.lastIndex=l),null===c?-1:c.index}]}))},2177:function(a,e){a.exports=Object.is||function(a,e){return a===e?0!==a||1/a==1/e:a!=a&&e!=e}},2178:function(a,e,t){"use strict";t(2088)},2234:function(a,e,t){"use strict";t.r(e);var n=t(21),r=(t(80),t(8),t(53),t(2174),t(22),t(2176),t(141),t(174),t(55),t(58),t(34),t(47),t(75),t(181),t(76),function(a){return new Promise((function(e,t){if(void 0!==window.BMap)return e(window.BMap),!0;window.onBMapCallback=function(){e(window.BMap)};var n=document.createElement("script");n.type="text/javascript",n.src="http://api.map.baidu.com/api?v=3.0&ak="+a+"&callback=onBMapCallback",n.onerror=t,document.head.appendChild(n)}))}),i={name:"AuiMap",mixins:[],data:function(){return{form:{address:"",addrPoint:{lng:0,lat:0}},map:"",mk:"",locationPoint:null}},props:{queryShow:{type:Boolean,default:!1}},mounted:function(){var a=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("6vroFeXqIdvPEgBHhM4gycBGTVuEOHfZ");case 2:a.initMap();case 3:case"end":return e.stop()}}),e)})))()},methods:{initMap:function(){var a=this;this.map=new BMap.Map("map-container",{enableMapClick:!1});var e=new BMap.Point(112.960404,28.23123);this.map.centerAndZoom(e,19),this.mk=new BMap.Marker(e,{enableDragging:!0}),this.mk.addEventListener("dragend",(function(e){a.getAddrByPoint(e.point)})),this.map.addEventListener("click",(function(e){a.getAddrByPoint(e.point)}))},setCenter:function(a){var e=new BMap.Point(parseFloat(a[0]),parseFloat(a[1]));this.map.setCenter(e)},setZooming:function(a){a&&this.map.enableScrollWheelZoom()},setZoom:function(a){this.map.setZoom(a)},addControl:function(a){a&&this.map.addControl(new BMap.NavigationControl({anchor:BMAP_ANCHOR_TOP_RIGHT,type:BMAP_NAVIGATION_CONTROL_SMALL}))},setDragging:function(a){a&&this.map.disableDragging()},getDistance:function(a,e){var t=new BMap.Point(parseFloat(a[0]),parseFloat(a[1])),n=new BMap.Point(parseFloat(e[0]),parseFloat(e[1]));return this.map.getDistance(t,n)},querySearchAsync:function(a,e){var t={onSearchComplete:function(a){var t=[];if(n.getStatus()==BMAP_STATUS_SUCCESS){for(var r=0;r<a.getCurrentNumPois();r++)t.push(a.getPoi(r));e(t)}else e(t)}},n=new BMap.LocalSearch(this.map,t);n.search(a)},handleSelect:function(a){this.form.address=a.address+a.title,this.form.addrPoint=a.point,this.map.clearOverlays(),this.mk=new BMap.Marker(a.point),this.map.addOverlay(this.mk),this.map.panTo(a.point)},getAddrByPoint:function(a){var e=this;(new BMap.Geocoder).getLocation(a,(function(t){e.mk.setPosition(a),e.map.panTo(a),e.form.address=t.address,e.form.addrPoint=a}))},geolocation:function(){var a=this,e=new BMap.Geolocation;e.getCurrentPosition((function(e){this.getStatus()==BMAP_STATUS_SUCCESS?a.getAddrByPoint(e.point):alert("failed"+this.getStatus())}),{enableHighAccuracy:!0})},addOverlay:function(a,e,t,n,r,i,o){var s=new BMap.Point(parseFloat(a[0]),parseFloat(a[1])),p=BMap.Marker;if(e&&t&&n&&r){var l=t.split(","),d=r.split(","),c=new BMap.Icon(e,new BMap.Size(parseInt(l[0]),parseInt(l[1])),new BMap.Size(parseInt(d[0]),parseInt(d[1])));p=new BMap.Marker(s,c),this.map.addOverlay(p),this.setCenter(a)}else p=new BMap.Marker(s),this.map.addOverlay(p),this.setCenter(a);if(i){var u=BMap.Label;if(o){var f=o.split(",");u=new BMap.Label(i,new BMap.Size(parseInt(f[0]),parseInt(f[1])))}else u=new BMap.Label(i);this.map.addOverlay(u)}},addTextInfoWindow:function(a,e){var t=new BMap.InfoWindow(e,a);this.map.openInfoWindow(t,this.map.getCenter())},addComplexInfoWindow:function(a){var e=new BMap.Marker(this.map.getCenter()),t=new BMap.InfoWindow(a);this.map.addOverlay(e),e.addEventListener("click",(function(){this.openInfoWindow(t)}))},setTrajectory:function(a){var e=new Array;a&&(a.forEach((function(a){var t=a.split(","),n=new Array;if(n.push(t),2===n[0].length){var r=new BMap.Point(parseFloat(n[0][0]),parseFloat(n[0][1]));e.push(r)}})),this.drawWalktrack(this.map,e))},drawWalktrack:function(a,e){var t=new BMap.Label("aui.map.startPoint",new BMap.Size(20,-10)),n=new BMap.Label("aui.map.startPoint",new BMap.Size(20,-10)),r=e.slice(0),i=r.shift(),o=new BMap.Marker(i);o.setLabel(t),a.addOverlay(o);var s=r.pop(),p=new BMap.Marker(s);p.setLabel(n),a.addOverlay(p),a.setCenter(s);var l=new BMap.Polyline(e,"red",2,.5);a.addOverlay(l)},drivingRouteSearch:function(a,e){var t=new BMap.DrivingRoute(this.map,{renderOptions:{map:this.map,autoViewport:!0}}),n=a.toString(),r=e.toString();if(n.indexOf(",")>0&&r.indexOf(",")>0){var i=new Array;if(n.indexOf(",")>0){var o=new Array;if((o=n.split(",")).length>1){var s=new BMap.Point(parseFloat(o[0]),parseFloat(o[1]));i.push(s)}}if(r.indexOf(",")>0){var p=new Array;if((p=r.split(",")).length>1){var l=new BMap.Point(parseFloat(p[0]),parseFloat(p[1]));i.push(l)}}t.search(i[0],i[1])}else t.search(a,e)},walkingRouteSearch:function(a,e){var t=a.toString(),n=e.toString(),r=new BMap.WalkingRoute(this.map,{renderOptions:{map:this.map,autoViewport:!0}});if(t.indexOf(",")>0&&n.indexOf(",")>0){var i=new Array;if(t.indexOf(",")>0){var o=new Array;if((o=t.split(",")).length>1){var s=new BMap.Point(parseFloat(o[0]),parseFloat(o[1]));i.push(s)}}if(n.indexOf(",")>0){var p=new Array;if((p=n.split(",")).length>1){var l=new BMap.Point(parseFloat(p[0]),parseFloat(p[1]));i.push(l)}}r.search(i[0],i[1])}else r.search(a,e)},removeAllOverlay:function(){this.map.clearOverlays()}}},o=(t(2178),t(7)),s=Object(o.a)(i,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"aui-map"},[t("div",{staticClass:"aui-map__app-container",staticStyle:{margin:"10px 20px 15px 20px"}},[t("aui-form",{ref:"form",attrs:{model:a.form,"label-width":"110px"}},[a.queryShow?t("aui-form-item",{attrs:{label:a.aui.map.address+"：",prop:"address"}},[t("aui-search",{staticStyle:{width:"100%"},attrs:{"popper-class":"autoAddressClass","trigger-on-focus":!1,placeholder:a.aui.map.address,clearable:"","fetch-suggestions":a.querySearchAsync},on:{select:a.handleSelect},scopedSlots:a._u([{key:"default",fn:function(e){var n=e.item;return[t("div",{staticStyle:{overflow:"hidden"}},[t("div",{staticClass:"title"},[a._v(a._s(n.title))]),a._v(" "),t("span",{staticClass:"address ellipsis"},[a._v(a._s(n.address))])])]}}],null,!1,1935874610),model:{value:a.form.address,callback:function(e){a.$set(a.form,"address",e)},expression:"form.address"}})],1):a._e(),a._v(" "),t("aui-form-item",{attrs:{label:"aui.map.mapPosition："}},[t("div",{staticStyle:{width:"100%",height:"500px"},attrs:{id:"map-container"}})])],1)],1)])}),[],!1,null,"66bfa736",null);e.default=s.exports}}]);